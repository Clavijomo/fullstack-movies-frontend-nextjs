(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{5419:(e,t,s)=>{Promise.resolve().then(s.bind(s,6482))},9388:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(5155);s(2115);var r=s(1996),n=s.n(r);s(3965);let i=e=>{let{score:t,minimal:s}=e,r=s&&s?23:27,n=Math.min(Math.max(t,0),10),i=2*Math.PI*r,l=n/10*i,c=(e=>e>=7?"#4caf50":e>=5?"#ffc107":"#f44336")(n);return(0,a.jsxs)("div",{className:"progress-circle",children:[(0,a.jsxs)("svg",{className:"progress-svg",width:(r+4)*2,height:(r+4)*2,viewBox:"0 0 ".concat((r+4)*2," ").concat((r+4)*2),children:[(0,a.jsx)("circle",{className:"progress-bg",cx:r+4,cy:r+4,r:r,strokeWidth:4}),(0,a.jsx)("circle",{className:"progress-bar",cx:r+4,cy:r+4,r:r,strokeWidth:4,style:{stroke:c},strokeDasharray:i,strokeDashoffset:i-l})]}),(0,a.jsxs)("div",{className:"progress-text",children:[Math.round(10*n),"%"]})]})};i.propTypes={score:n().number.isRequired};let l=i},3498:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>l,A:()=>c});var a=s(5155),r=s(2115);class n extends Error{}n.prototype.name="InvalidTokenError";let i=(0,r.createContext)({token:null,showModal:!0,decodedToken:null,closeModal:()=>{},setToken:()=>{}}),l=e=>{let{children:t}=e,[s,l]=(0,r.useState)(null),[c,o]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0),u=e=>{l(e),localStorage.setItem("access_token",e);try{let t=function(e,t){let s;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let a=!0===t.header?0:1,r=e.split(".")[a];if("string"!=typeof r)throw new n(`Invalid token specified: missing part #${a+1}`);try{s=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var s;return s=t,decodeURIComponent(atob(s).replace(/(.)/g,(e,t)=>{let s=t.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch(e){return atob(t)}}(r)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${a+1} (${e.message})`)}try{return JSON.parse(s)}catch(e){throw new n(`Invalid token specified: invalid json for part #${a+1} (${e.message})`)}}(e);o(t),h(!1)}catch(e){console.error("Failed to decode token:",e),o(null)}};return(0,r.useEffect)(()=>{let e=localStorage.getItem("access_token");e&&u(e);let t=()=>{let e=localStorage.getItem("access_token");if(e)return u(e)};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[]),(0,a.jsx)(i.Provider,{value:{token:s,showModal:d,decodedToken:c,setToken:u,closeModal:()=>{h(!1)}},children:t})},c=()=>(0,r.useContext)(i)},6482:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(5155),r=s(2115);s(3043);let n=e=>{let{handleCategoryClick:t,selectedCategory:s,modules:r}=e;return(0,a.jsxs)("aside",{className:"sidemenu",children:[(0,a.jsx)("h3",{children:"Genres"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{className:"All"===s?"active":"",onClick:()=>t("All"),children:"Todas"}),r&&r.map(e=>(0,a.jsx)("li",{onClick:()=>t(e),className:s===e?"active":"",children:e},e))]})]})};var i=s(3498),l=s(2651);let c=()=>{let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(null);(0,r.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await l.A.get("".concat("https://movies-fullstack-app-backend.onrender.com").concat("/movies"));if(200===e.status||"OK"===e.statusText){let s=e.data;if(t(s),s.length>0){let e=Math.floor(Math.random()*s.length);a(s[e])}}}catch(e){throw Error("Hubo un error")}};return{listMovies:e,randomMovie:s}};var o=s(2983);let d=(0,o.A)((0,a.jsx)("path",{d:"M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76z"}),"FavoriteRounded");var h=s(6549);let u=e=>{let{bannerMovie:t}=e,{description:s,favorite:r,name:n,rating:i}=t;return(0,a.jsxs)("div",{style:{backgroundImage:"url(https://as1.ftcdn.net/v2/jpg/03/34/31/36/1000_F_334313696_MbYwDI0quHDozWAwlgfb6Oiw9BdevWr7.jpg)",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},className:"banner",children:[(0,a.jsx)("div",{className:"overlay-banner"}),(0,a.jsxs)("div",{className:"title-container-banner",children:[(0,a.jsx)("h1",{className:"title-banner",children:n}),(0,a.jsx)("p",{children:s})]}),(0,a.jsxs)("div",{className:"rating-movie-banner",children:[(0,a.jsx)("h3",{children:i}),r?(0,a.jsx)(d,{}):(0,a.jsx)(h.A,{})]})]})};var A=s(5933);let m=(0,o.A)((0,a.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder");var g=s(5565),v=s(6046),p=s(9388);let x=e=>{let t=(0,v.useRouter)(),{favorite:s,name:r,date:n,image:i,id:l,rating:c}=e;return(0,a.jsxs)("div",{onClick:()=>{t.push("home/".concat(l))},className:"card-movie",children:[(0,a.jsx)(g.default,{className:"image-movie",src:i,width:200,height:223,alt:"movie-alt"}),(0,a.jsxs)("div",{className:"poster-description",children:[(0,a.jsx)("h1",{className:"title-movie",children:r}),(0,a.jsx)("p",{className:"description-movie",children:n}),(0,a.jsxs)("div",{className:"container-info-add",children:[(0,a.jsx)("div",{children:(0,a.jsx)(p.A,{score:c,minimal:!0})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Favorites"}),(0,a.jsx)("p",{children:!0===s?(0,a.jsx)(m,{fontSize:"small"}):(0,a.jsx)(A.A,{fontSize:"small"})})]})]})]})]})};var j=s(3205);let f=e=>{let{endpoint:t,onSuccess:s}=e,{setToken:a}=(0,i.A)(),[n,c]=(0,r.useState)({email:"",password:""}),[o,d]=(0,r.useState)(""),h=e=>{localStorage.setItem("access_token",e),a(e)};return{handleChange:(e,t)=>{c(s=>({...s,[e]:t}))},handleSubmit:async e=>{e.preventDefault();try{let e=await l.A.post(t,n);if(201===e.status||200===e.status){let t=e.data.access_token;h(t),s()}}catch(e){if(e instanceof j.pe){var a;d((null===(a=e.response)||void 0===a?void 0:a.data.message)||"An error ocurred while logging in")}else d("An unexpected error ocurred")}},error:o,user:n}};s(8423);let b=function(e){let{endpoint:t,onSuccess:s}=e,{error:r,user:n,handleChange:i,handleSubmit:l}=f({endpoint:t,onSuccess:s}),c=t.includes("register");return(0,a.jsxs)("div",{className:"container-register-user",children:[(0,a.jsx)("p",{className:"text-info-login",children:!c&&"We love having you back"}),r&&(0,a.jsx)("div",{className:"error-message",children:r}),(0,a.jsx)("form",{onSubmit:l,children:(0,a.jsxs)("div",{className:"section-registry",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"email",placeholder:"Email",value:n.email,onChange:e=>i("email",e.target.value),required:!0})}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"password",placeholder:"Password",value:null==n?void 0:n.password,onChange:e=>i("password",e.target.value),required:!0})}),(0,a.jsx)("button",{className:"button-input",type:"submit",children:"Continue"})]})}),(0,a.jsx)("p",{className:"text-questions",children:"For any questions, reach out to support@Quickbetdmovies.com"})]})},k={src:"/_next/static/media/02.959b0c78.png",height:546,width:547,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEVMaXHdjmbqnnXvuSrblg7uvzPsryHsv2TbhS3ywjbYmBLfjWPZppvakQ7qoy7QclfIhg/u7v/YnjH1tB7grBvYfmDrlTlZWzQhAAAAE3RSTlMAvyWhpf35MR9r+Uqs6Ylpgw+a4KuFeAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADVJREFUeJxjYMAE7AzcjBwgBo8gvygTiCHEzifGCWKwsLGxsrIzMDAIsPCKCIOFOLhEhJkZACEoAVPDsrGqAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},w={src:"/_next/static/media/signUpIcon.ec2c0d44.png",height:609,width:546,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAARVBMVEVMaXHZkg7HgSrjiVabeV3t1JblnkfpdDL0rjvhiTTShWjxxzTVbzrzrR3nrR/kjw/lusntrxysXwDoqjPyuCntpAzhp22vMt78AAAAE3RSTlMA+TuNCxSjAyJM/G/u4PHTR7EowDtYeQAAAAlwSFlzAAALEwAACxMBAJqcGAAAADZJREFUeJxVxVEWgBAQQNFHwxgUpdr/Up3jz/25AMrO0krygRK61gj4eI+3wOOa+86AePvHlSYXrAFCgomfxQAAAABJRU5ErkJggg==",blurWidth:7,blurHeight:8};s(8327);let N="".concat("https://movies-fullstack-app-backend.onrender.com").concat("/auth/login"),y="".concat("https://movies-fullstack-app-backend.onrender.com").concat("/auth/register"),C=()=>{let[e,t]=(0,r.useState)(!0),[s,n]=(0,r.useState)(N),[l,c]=(0,r.useState)("login"),{closeModal:o}=(0,i.A)(),d=e=>{if(t(!0),"login"===e)return c("login"),n(N);c("signUp"),n(y)};return(0,a.jsx)("div",{className:"overlay-form",children:(0,a.jsxs)("div",{className:"container-form container-form-show",children:[(0,a.jsxs)("div",{className:"container-questions",children:[(0,a.jsxs)("div",{className:"container-buttons-register",children:[(0,a.jsx)("button",{className:"signUp"===l?"active":"",onClick:()=>d("signUp"),children:"Sign Up"}),(0,a.jsx)("button",{className:"login"===l?"active":"",onClick:()=>d("login"),children:"Log in"})]}),(0,a.jsx)("div",{className:"container-register-user",children:e&&(0,a.jsx)(b,{onSuccess:()=>o(),endpoint:s})})]}),(0,a.jsx)("div",{className:"container-info-login",children:(0,a.jsxs)("div",{className:"container-info-description",children:[(0,a.jsx)("h1",{children:s===N?"Welcome back to Quickbet Movies!":"Welcome to Quickbet Movies!"}),(0,a.jsx)("p",{children:s===N?"\uD83C\uDF7F Ready to dive into the world of unlimited entertainment? Enter your credentials and let the cinematic adventure begin!":"\uD83C\uDFAC Ready to unlock a universe of cinematic delights? Sign up now and start your journey with us!"}),(0,a.jsx)(g.default,{width:500,height:500,src:s===y?k:w,alt:"Login Icon"})]})})]})})},S=function(){let{showModal:e}=(0,i.A)(),[t,s]=(0,r.useState)("All"),l=["Top Rated","Now Playing","Popular","Upcoming"],{listMovies:o,randomMovie:d}=c(),h="All"===t?o:o.filter(e=>e.module===t);return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(C,{}),d&&(0,a.jsx)(u,{bannerMovie:d}),(0,a.jsxs)("div",{className:"dashboard-container",children:[(0,a.jsx)(n,{handleCategoryClick:e=>{s(e)},modules:l,selectedCategory:t}),(0,a.jsx)("main",{className:"movies-content",children:l.map(e=>("All"===t||t===e)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-module",children:e}),(0,a.jsx)("div",{className:"container-movies",children:h.filter(t=>t.module===e).map((e,t)=>(0,r.createElement)(x,{...e,key:t}))})]},e))})]})]})}},8423:()=>{},3043:()=>{},8327:()=>{},3965:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[202,724,963,175,983,441,517,358],()=>t(5419)),_N_E=e.O()}]);